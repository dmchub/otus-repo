Исходная программа		После оптимизации	
256		18009			256	2953
512		11719			512	2354
1024	11457			1024	2351
2048	11068			2048	2458
4096	11891			4096	2250

До опитмизации наиболее выгодный размер хипа 512мб. поскольку дальнейшее кратное увеличение размера дает результат в пределах погрешности
После опитимизации наиболее выгодный размер хипа 256, поскольку увеличение скоросит на 20% не столь существенно на таких величинах. Но если бьемся за каждую секунду, то можно и 512
